[1mdiff --git a/app/logic.py b/app/logic.py[m
[1mindex fe95824..bd31ab3 100644[m
[1m--- a/app/logic.py[m
[1m+++ b/app/logic.py[m
[36m@@ -798,7 +798,22 @@[m [mdef verify_combined_case([m
                 temperature=0.0[m
             )[m
             result_text = response.choices[0].message.content.strip()[m
[31m-            result = result_text.split()[0].strip(".").capitalize()[m
[32m+[m[41m            [m
[32m+[m[32m            # Parse the response with coverage semantics (same as check_field_with_llm)[m
[32m+[m[32m            text_lower = result_text.lower()[m
[32m+[m[32m            excluded_terms = [[m
[32m+[m[32m                "not covered", "not approved", "denied", "non-formulary",[m
[32m+[m[32m                "not payable", "rejected", "excluded"[m
[32m+[m[32m            ][m
[32m+[m[32m            allowed_terms = ["covered", "approved", "allowed", "payable"][m
[32m+[m
[32m+[m[32m            if any(t in text_lower for t in excluded_terms) and not any(t in text_lower for t in allowed_terms):[m
[32m+[m[32m                result = "Excluded"[m
[32m+[m[32m            elif any(t in text_lower for t in allowed_terms) and "excluded" not in text_lower:[m
[32m+[m[32m                result = "Allowed"[m
[32m+[m[32m            else:[m
[32m+[m[32m                # fallback to first token[m
[32m+[m[32m                result = "Excluded" if "excluded" in text_lower else "Allowed"[m
             [m
             if result.lower() == "excluded":[m
                 final_flag = "Excluded"[m
[36m@@ -857,7 +872,9 @@[m [mdef verify_combined_case([m
                 "  5) No â€˜ruleâ€‘out by assumptionâ€™: Do NOT invent screening/ruleâ€‘out rationales; absent an explicit reason in the case text, treat as unjustified and FLAG.\n"[m
                 "- When flagged, provide 2â€“3 relevant, minimally invasive, firstâ€‘line alternatives targeted to the diagnosisâ€™ system.\n\n"[m
                 "PHARMACY RULE:\n"[m
[31m-                "- Do NOT flag guidelineâ€‘concordant, policyâ€‘compliant medications. Flag only if clinically inappropriate for the diagnosis.\n\n"[m
[32m+[m[32m                "- Do NOT flag guidelineâ€‘concordant, policyâ€‘compliant medications. Flag only if clinically inappropriate for the diagnosis.\n"[m
[32m+[m[32m                "- DURATION CHECK: For acute conditions (fever, cough, gastritis, sinusitis, bronchitis), prescriptions exceeding 10 days should be flagged as 'Duration exceeds policy limit'.\n"[m
[32m+[m[32m                "- For chronic conditions (diabetes, hypertension, asthma), prescriptions exceeding 30 days should be flagged as 'Duration exceeds policy limit'.\n\n"[m
                 "OUTPUT FORMAT (MUST MATCH EXACTLY)\n"[m
                 "For each issue:\n"[m
                 "Field: <field_name>\n"[m
[1mdiff --git a/app/model_setup.py b/app/model_setup.py[m
[1mindex b567d5e..38e37bf 100644[m
[1m--- a/app/model_setup.py[m
[1m+++ b/app/model_setup.py[m
[36m@@ -227,7 +227,7 @@[m [mdef query_llm(prompt: str, model: str = "gpt-4o-mini", system_prompt: Optional[s[m
         [m
         print(f"Error querying LLM: {e}")[m
         return MockLLM.get_mock_response(prompt, field_name, value)[m
[31m-        [m
[32m+[m
 # Vector Database Population[m
 def load_policy_data(collections: Dict[str, Any], policy_data: Dict[str, List[str]]) -> None:[m
     """Load policy data into ChromaDB collections"""[m
[1mdiff --git a/frontend/app.js b/frontend/app.js[m
[1mindex 6c66b12..3d8e3cc 100644[m
[1m--- a/frontend/app.js[m
[1m+++ b/frontend/app.js[m
[36m@@ -3466,3 +3466,45 @@[m [mfunction generateClinicalReasoning(flaggedField, flaggedItem, patient, result) {[m
     // Default reasoning for other cases[m
     return `ðŸ§  Reason: Clinical data does not follow expected medical logic patterns`;[m
 }[m
[32m+[m
[32m+[m[32m// Download test sample CSV file[m
[32m+[m[32mfunction downloadTestSample(type = 'mixed') {[m
[32m+[m[32m    let csvContent = '';[m
[32m+[m[32m    let fileName = '';[m
[32m+[m[41m    [m
[32m+[m[32m    if (type === 'mixed') {[m
[32m+[m[32m        csvContent = `patient_name,chief_complaints,symptoms,diagnosis_description,service_detail,payer_product_category_name[m
[32m+[m[32mAhmed M,"Severe upper abdominal pain, worsens after meals","Heartburn, nausea, bloating",Gastritis,H. pylori antigen test,"Procid 40 mg, 1 tablet daily for 10 days"[m
[32m+[m[32mFatima A,Joint pain in knees,"Pain aggravated by walking, mild swelling in knees",Acute Sinusitis,Nasal swab culture,"Amoxicillin 500 mg, 1 tablet twice daily for 7 days"[m
[32m+[m[32mMohammed R,Fever with cough for 3 days,"Sore throat, runny nose, mild body ache",Acute Upper Respiratory Tract Infection (URTI),CBC (Complete Blood Count),"Adol 500 mg, 1 tablet every 6 hours for 5 days "[m
[32m+[m[32mmuneer,pain ,bleeding,piles,x-ray,"Panadol 500 mg, 1 tablet every 6 hours for 5 days "`;[m
[32m+[m[32m        fileName = 'test_mixed_cases.csv';[m
[32m+[m[32m    } else if (type === 'acute') {[m
[32m+[m[32m        csvContent = `patient_name,chief_complaints,symptoms,diagnosis_description,service_detail,payer_product_category_name[m
[32m+[m[32mSarah K,"Fever with severe headache for 2 days","Body aches, chills, fatigue",Acute Sinusitis,Nasal endoscopy,"Panadol 500 mg, 2 tablets every 6 hours for 12 days"[m
[32m+[m[32mAli H,"Chest pain and shortness of breath","Cough with phlegm, wheezing",Acute Bronchitis,Chest X-ray,"Amoxicillin 500 mg, 1 tablet three times daily for 15 days"[m
[32m+[m[32mFatima S,"Severe stomach pain after eating","Nausea, vomiting, bloating",Acute Gastritis,Upper GI endoscopy,"Procid 20 mg, 1 tablet daily for 8 days"`;[m
[32m+[m[32m        fileName = 'test_acute_conditions.csv';[m
[32m+[m[32m    } else if (type === 'chronic') {[m
[32m+[m[32m        csvContent = `patient_name,chief_complaints,symptoms,diagnosis_description,service_detail,payer_product_category_name[m
[32m+[m[32mOmar R,"High blood pressure readings","Dizziness, occasional headaches",Hypertension,Blood pressure monitoring,"Lisinopril 10 mg, 1 tablet daily for 45 days"[m
[32m+[m[32mAisha M,"Frequent urination and thirst","Weight loss, fatigue",Type 2 Diabetes,HbA1c test,"Metformin 500 mg, 1 tablet twice daily for 30 days"[m
[32m+[m[32mHassan A,"Breathing difficulties during exercise","Wheezing, chest tightness",Asthma,Peak flow meter,"Salbutamol inhaler, 2 puffs as needed for 25 days"`;[m
[32m+[m[32m        fileName = 'test_chronic_conditions.csv';[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });[m
[32m+[m[32m    const link = document.createElement('a');[m
[32m+[m[32m    const url = URL.createObjectURL(blob);[m
[32m+[m[41m    [m
[32m+[m[32m    link.setAttribute('href', url);[m
[32m+[m[32m    link.setAttribute('download', fileName);[m
[32m+[m[32m    link.style.visibility = 'hidden';[m
[32m+[m[41m    [m
[32m+[m[32m    document.body.appendChild(link);[m
[32m+[m[32m    link.click();[m
[32m+[m[32m    document.body.removeChild(link);[m
[32m+[m[41m    [m
[32m+[m[32m    // Show success message[m
[32m+[m[32m    showNotification(`${fileName} downloaded successfully!`, 'success');[m
[32m+[m[32m}[m
[1mdiff --git a/frontend/index.html b/frontend/index.html[m
[1mindex f7d77a1..fba9729 100644[m
[1m--- a/frontend/index.html[m
[1m+++ b/frontend/index.html[m
[36m@@ -550,6 +550,41 @@[m
                     </div>[m
                 </div>[m
 [m
[32m+[m[32m                <!-- Test Sample File Section -->[m
[32m+[m[32m                <div class="test-sample-section">[m
[32m+[m[32m                    <div class="test-sample-card">[m
[32m+[m[32m                        <h4><i class="bi bi-download me-2"></i>Test Sample Files</h4>[m
[32m+[m[32m                        <p class="test-sample-description">Download our sample CSV files to test the system with pre-configured test cases</p>[m
[32m+[m[32m                    